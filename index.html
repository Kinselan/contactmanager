<!DOCTYPE html>
<html>
  <head>
    <title>Contactx</title>
    <link rel='stylesheet' href='./stylesheets/styles.css'>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src='./javascripts/handlebars-v4.0.10.js'></script>
  </head>
  <body>
    <header>
      <h1>Contactx</h1>
      <p>A small contacts manager, using local storage</p>
    </header>
    <main>
      <div id='main-view'>
        <div id='app-functions'>
          <div id='add-button'>
            <a href='#' data-action='addNewContact'>Add Contact</a>
          </div>
          <div id='search-bar'>
            <input type=text id='search' placeholder="search">
          </div>
          <div id='tag-filter'>
            <a id='resetTagFilter' data-action='resetTagFilter' href='#'>Reset</a>
            <h4>Tag Filter:</h4>
            <p><span>click</span> to show group</p>
            <ul></ul>
          </div>
        </div>

        <div id='contacts'>
          <ul>
          </ul>          
        </div>
      </div>

      <div id='form-view'> 
      </div>

    </main>

    <script id='form-template' type='text/handlebars-template'>
      <h2 class='underline'>{{title}}</h2>
      <aside id='tags'>
        <h4>Tags:</h4>
        <p><span>click</span> to remove</p>
        <ul>
          {{#each contact.tags}}
            <a href='#' data-action="removeTag"><li>{{this}}</li></a>
          {{/each}}
        </ul>
      </aside>
      <form class='underline'>
        <fieldset>
          <input value='{{contact.id}}' type='number' name='id' hidden>
          <dl>
            <dt><label for='name'>Full name:</label></dt>
            <dd>
              <input type='text' name='name' value='{{contact.name}}' minlength='1'>
            </dd>    
            <dt><label for='email'>Email Address:</label></dt>
            <dd>
              <input type='email' name='email' value='{{contact.email}}'>
            </dd>
            <dt><label>Telephone Number:</label></dt>
            <dd>
              <input type='tel' name='phone' value='{{contact.phone}}'>
            </dd>
            </dd>
            <dt><label>Add Tags:</label></dt>
            <dd>
              <input type='text' name='tags' placeholder="tag names separated by spaces">
            </dd>
            <input id='submit' type='submit' data-action={{submitAction}} href='#'>
            <a id='cancel' data-action={{cancelAction}} href='#'>Cancel</a>
          </dl>
        </fieldset>
      </form>
    </script>

    <script id='tag-filter-template' type='text/handlebars-template'>
      {{#each tags}}
        <a href='#' data-action="displayFilteredContacts"><li>{{this}}</li></a>
      {{/each}}
    </script>

    <script id='contact-template' type='text/handlebars-template'>
      <li class='contact underline' data-contactid='{{id}}'>
        <h3>{{name}}</h3>
        <dl>
          <dt>Phone Number:</dt>
          <dd>{{phone}}</dd>
          <dt>Email:</dt>
          <dd>{{email}}</dd>
          <dt>Tags:</dt>
          <dd>
            <ul>
              {{#each tags}}
                <li>{{this}}</li>
              {{/each}}
            </ul>
          </dd>
        </dl>
        <a href='#' data-action='editContact'>Edit</a>
        <a href='#' data-action='deleteContact'>Delete</a>
      </li>
    </script>

    <script src='./javascripts/app.js'></script>
  </body>
</html>